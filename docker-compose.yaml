services:
  openclaw:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        USERNAME: openclaw
        UID: 1000
        GID: 1000

    container_name: openclaw
    network_mode: "host"
    ports:
      - "127.0.0.1:18789:18789"

    # HOME как volume — сюда будут падать конфиги (~/.openclaw) и кеши
    volumes:
      - openclaw_home:/home/openclaw

    # Если надо — ключи/настройки через env
    env_file:
      - .env

    restart: unless-stopped

volumes:
  openclaw_home:
